(this.webpackJsonpmomir_basic=this.webpackJsonpmomir_basic||[]).push([[0],{102:function(e,a,t){},103:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t(23),c=t.n(r),o=(t(60),t(22)),i=t(7),s=(t(61),t(3)),l=t(14),d=t(19),u=t(15),b=t.n(u),m=t(33),j=t(51),p=t(52),O=t(34),f=t.n(O),v=function(){function e(){Object(j.a)(this,e)}return Object(p.a)(e,[{key:"getRandomCreature",value:function(){var e=Object(m.a)(b.a.mark((function e(a){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://api.scryfall.com/cards/random?q=cmc%3D".concat(a,"%20type%3Acreature%20-border%3Asilver%20-border%3Agold"),e.next=3,f.a.get(t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},{key:"searchTokens",value:function(){var e=Object(m.a)(b.a.mark((function e(a,t,n,r){var c,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="https://api.scryfall.com/cards/search?include_extras=true&q=".concat(a,"%20is%3Atoken"),void 0!==t&&c.concat("%20pow%3D".concat(t)),void 0!==n&&c.concat("%20tou%3D".concat(n)),void 0!==r&&c.concat("o%3A%22".concat(r,"%22")),e.next=6,f.a.get(c);case 6:return o=e.sent,e.abrupt("return",o.data);case 8:case"end":return e.stop()}}),e)})));return function(a,t,n,r){return e.apply(this,arguments)}}()}]),e}();v.plainsImage="https://c1.scryfall.com/file/scryfall-cards/large/front/c/c/cc3db531-3f21-49a2-8aeb-d98b7db94397.jpg?1597118248",v.islandImage="https://c1.scryfall.com/file/scryfall-cards/large/front/9/1/91595b00-6233-48be-a012-1e87bd704aca.jpg?1597115911",v.swampImage="https://c1.scryfall.com/file/scryfall-cards/large/front/8/e/8e5eef83-a3d4-44c7-a6cb-7f6803825b9e.jpg?1597116662",v.mountainImage="https://c1.scryfall.com/file/scryfall-cards/large/front/6/4/6418bc71-de29-410c-baf3-f63f5615eee2.jpg?1597117048",v.forestImage="https://c1.scryfall.com/file/scryfall-cards/large/front/1/4/146b803f-0455-497b-8362-03da2547070d.jpg?1597117694",v.wastesImage="https://c1.scryfall.com/file/scryfall-cards/large/front/6/9/69b215fe-0d97-4ca1-9490-174220fd454b.jpg?1562916234",v.cardBackImage="https://i.imgur.com/P7qYTcI.png",v.wSymbolImage="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0f/MTG_%28W%29.svg/512px-MTG_%28W%29.svg.png",v.uSymbolImage="https://www.pinclipart.com/picdir/big/218-2186106_big-image-mtg-blue-mana-symbol-clipart.png",v.bSymbolImage="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e4/MTG_%28B%29.svg/512px-MTG_%28B%29.svg.png",v.rSymbolImage="https://upload.wikimedia.org/wikipedia/commons/thumb/a/ad/MTG_%28R%29.svg/512px-MTG_%28R%29.svg.png",v.gSymbolImage="https://upload.wikimedia.org/wikipedia/commons/thumb/9/96/MTG_%28G%29.svg/512px-MTG_%28G%29.svg.png",v.cSymbolImage="https://upload.wikimedia.org/wikipedia/commons/thumb/c/cc/MTG_%28C%29.svg/500px-MTG_%28C%29.svg.png",v.discardIcon="http://clipart-library.com/img1/678977.png",v.momirAvatarImage="https://c1.scryfall.com/file/scryfall-cards/large/front/f/5/f5ed5ad3-b970-4720-b23b-308a25f42887.jpg?1562953277";var g=t(0);var y=function(e){return Object(g.jsxs)("div",{children:[Object(g.jsx)("img",{src:e.imgSrc,alt:e.imgAlt,className:e.className}),Object(g.jsx)("br",{}),Object(g.jsx)("input",{type:e.inputType,name:e.inputId,min:e.min,max:e.max,onChange:e.onChange})]})};var h=function(e){return Object(g.jsxs)("div",{className:e.className,children:[Object(g.jsx)("label",{htmlFor:e.labelId,children:e.labelText}),Object(g.jsx)("br",{}),Object(g.jsx)("input",{type:e.inputType,name:e.labelId,onChange:e.onChange,value:e.inputValue})]})},x=t(5),C={playerName:"",creatures:[],land:[],lifeTotal:24,manaPool:{white:0,blue:0,black:0,red:0,green:0,colorless:0},library:[],graveyard:[],hand:[],showErrorMessage:!1,errorMessage:""},T=function(e){for(var a=[],t=0;t<e.plains;t++)a.push({name:"plains",colorId:0,image:"".concat(v.plainsImage),isTapped:!1});for(var n=0;n<e.islands;n++)a.push({name:"island",colorId:1,image:"".concat(v.islandImage),isTapped:!1});for(var r=0;r<e.swamps;r++)a.push({name:"swamp",colorId:2,image:"".concat(v.swampImage),isTapped:!1});for(var c=0;c<e.mountains;c++)a.push({name:"mountain",colorId:3,image:"".concat(v.mountainImage),isTapped:!1});for(var o=0;o<e.forests;o++)a.push({name:"forest",colorId:4,image:"".concat(v.forestImage),isTapped:!1});for(var i=0;i<e.wastes;i++)a.push({name:"wastes",colorId:5,image:"".concat(v.wastesImage),isTapped:!1});return a},I=function(e){for(var a,t,n=e.length;0!==n;)t=Math.floor(Math.random()*n),a=e[n-=1],e[n]=e[t],e[t]=a;return e},w=function(e,a){var t=e.splice(0,a);return{newLibrary:e,drawnCards:t}},E=function(e,a){return e.colorId<a.colorId?-1:e.colorId>a.colorId?1:0},_={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"INIT_PLAYER":var t=T(a.payload.landCount),n=I(t),r=w(n,7),c=Object(x.a)(r.drawnCards).sort(E),o=[],i=[],l=[],d=a.payload.playerName;return Object(s.a)(Object(s.a)({},e),{},{library:Object(x.a)(r.newLibrary),hand:c,playerName:d,graveyard:o,creatures:i,land:l});case"PLAY_LAND_FROM_HAND":var u=e.hand[a.payload.index],b=[].concat(Object(x.a)(e.land),[u]).sort(E),m=Object(x.a)(e.hand);return m.splice(a.payload.index,1),Object(s.a)(Object(s.a)({},e),{},{land:b,hand:m});case"DRAW_CARDS_FROM_LIBRARY":var j=Object(x.a)(e.library),p=w(j,a.payload),O=[].concat(Object(x.a)(e.hand),Object(x.a)(p.drawnCards)).sort(E);return Object(s.a)(Object(s.a)({},e),{},{library:p.newLibrary,hand:O});case"SHUFFLE_LIBRARY":var f=I(e.libary);return Object(s.a)(Object(s.a)({},e),{},{library:f});case"INCREMENT_LIFE":return Object(s.a)(Object(s.a)({},e),{},{lifeTotal:e.lifeTotal+1});case"DECREMENT_LIFE":return Object(s.a)(Object(s.a)({},e),{},{lifeTotal:e.lifeTotal-1});case"UPDATE_MANA":var v=Object(s.a)(Object(s.a)({},e.manaPool),a.payload);return Object(s.a)(Object(s.a)({},e),{},{manaPool:v});case"TOGGLE_TAP_CARD":switch(a.payload.zone){case"creatures":var g=Object(x.a)(e.creatures);return g[a.payload.index].isTapped=!g[a.payload.index].isTapped,Object(s.a)(Object(s.a)({},e),{},{creatures:g});case"land":var y=Object(x.a)(e.land);return y[a.payload.index].isTapped=!y[a.payload.index].isTapped,Object(s.a)(Object(s.a)({},e),{},{land:y});default:return e}case"SEND_CARD_TO_ZONE":switch(a.payload.fromZone){case"hand":var h=e.hand[a.payload.index],_=Object(x.a)(e.hand);switch(_.splice(a.payload.index,1),a.payload.toZone){case"graveyard":var k=[h].concat(Object(x.a)(e.graveyard));return Object(s.a)(Object(s.a)({},e),{},{graveyard:k,hand:_});case"land":var N=[].concat(Object(x.a)(e.land),[h]).sort(E);return Object(s.a)(Object(s.a)({},e),{},{land:N,hand:_});case"librarytop":var R=[h].concat(Object(x.a)(e.library));return Object(s.a)(Object(s.a)({},e),{},{library:R,hand:_});case"librarybottom":var A=[].concat(Object(x.a)(e.library),[h]);return Object(s.a)(Object(s.a)({},e),{},{library:A,hand:_});default:return e}case"land":var L=Object(s.a)(Object(s.a)({},e.land[a.payload.index]),{},{isTapped:!1}),S=Object(x.a)(e.land);switch(S.splice(a.payload.index,1),a.payload.toZone){case"graveyard":var M=[L].concat(Object(x.a)(e.graveyard));return Object(s.a)(Object(s.a)({},e),{},{graveyard:M,land:S});case"hand":var D=[].concat(Object(x.a)(e.hand),[L]).sort(E);return Object(s.a)(Object(s.a)({},e),{},{hand:D,land:S});case"librarytop":var F=[L].concat(Object(x.a)(e.library));return Object(s.a)(Object(s.a)({},e),{},{library:F,land:S});case"librarybottom":var P=[].concat(Object(x.a)(e.library),[L]);return Object(s.a)(Object(s.a)({},e),{},{library:P,land:S});default:return e}case"creatures":var z=Object(x.a)(e.creatures);return z.splice(a.payload.index,1),Object(s.a)(Object(s.a)({},e),{},{creatures:z});case"library":var B=e.library[a.payload.index],H=Object(x.a)(e.library);switch(H.splice(a.payload.index,1),a.payload.toZone){case"graveyard":var U=[B].concat(Object(x.a)(e.graveyard));return Object(s.a)(Object(s.a)({},e),{},{graveyard:U,library:H});case"hand":var G=[].concat(Object(x.a)(e.hand),[B]).sort(E);return Object(s.a)(Object(s.a)({},e),{},{hand:G,library:H});case"land":var Z=[B].concat(Object(x.a)(e.land)).sort(E);return Object(s.a)(Object(s.a)({},e),{},{library:H,land:Z});default:return e}case"graveyard":var Y=e.graveyard[a.payload.index],W=Object(x.a)(e.graveyard);switch(W.splice(a.payload.index,1),a.payload.toZone){case"librarytop":var X=[Y].concat(Object(x.a)(e.library));return Object(s.a)(Object(s.a)({},e),{},{graveyard:W,library:X});case"librarybottom":var K=[].concat(Object(x.a)(e.library),[Y]);return Object(s.a)(Object(s.a)({},e),{},{graveyard:W,library:K});case"hand":var q=[].concat(Object(x.a)(e.hand),[Y]).sort(E);return Object(s.a)(Object(s.a)({},e),{},{hand:q,graveyard:W});case"land":var J=[].concat(Object(x.a)(e.land),[Y]).sort(E);return Object(s.a)(Object(s.a)({},e),{},{graveyard:W,land:J});default:return e}default:return e}case"FETCH_CREATURE_TOKEN":return Object(s.a)(Object(s.a)({},e),{},{cmc:a.payload});case"ADD_CREATURE_TO_BATTLEFIELD":var V={name:a.payload.name,image:a.payload.image_uris.normal,zoomImage:a.payload.image_uris.large,isTapped:!1},Q=[].concat(Object(x.a)(e.creatures),[V]);return Object(s.a)(Object(s.a)({},e),{},{creatures:Q});case"NO_CREATURE_WITH_THAT_COST_ERROR":var $="Oops! There aren't any creatures that cost ".concat(a.payload,"."),ee=!0;return Object(s.a)(Object(s.a)({},e),{},{showErrorMessage:ee,errorMessage:$});case"SCRYFALL_API_ERROR":var ae="There was a problem connecting to Scryfall, please try again later.",te=!0;return Object(s.a)(Object(s.a)({},e),{},{errorMessage:ae,showErrorMessage:te});case"CLEAR_ERROR":var ne="",re=!1;return Object(s.a)(Object(s.a)({},e),{},{errorMessage:ne,showErrorMessage:re});case"UNTAP_ALL":var ce=e.creatures.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{isTapped:!1})})),oe=e.land.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{isTapped:!1})}));return Object(s.a)(Object(s.a)({},e),{},{land:oe,creatures:ce});default:return e}},initPlayer:function(e,a){return{type:"INIT_PLAYER",payload:{landCount:e,playerName:a}}},playLandFromHand:function(e){return{type:"PLAY_LAND_FROM_HAND",payload:{index:e}}},drawCardsFromLibrary:function(e){return{type:"DRAW_CARDS_FROM_LIBRARY",payload:e}},shuffleLibrary:function(){return{type:"SHUFFLE_LIBRARY"}},incrementLife:function(){return{type:"INCREMENT_LIFE"}},decrementLife:function(){return{type:"DECREMENT_LIFE"}},updateMana:function(e){return{type:"UPDATE_MANA",payload:e}},toggleTapCard:function(e,a){return{type:"TOGGLE_TAP_CARD",payload:{index:e,zone:a}}},sendCardToZone:function(e,a,t){return{type:"SEND_CARD_TO_ZONE",payload:{index:e,fromZone:a,toZone:t}}},fetchCreatureToken:function(e){return{type:"FETCH_CREATURE_TOKEN",payload:e}},addCreatureToBattlefield:function(e){return{type:"ADD_CREATURE_TO_BATTLEFIELD",payload:e}},clearError:function(){return{type:"CLEAR_ERROR"}},untapAll:function(){return{type:"UNTAP_ALL"}}};t(87);var k=Object(d.b)((function(e){return{}}),(function(e){return{onChange:function(a,t){return e(_.initPlayer(a,t))}}}))((function(e){var a=Object(n.useState)({plains:0,islands:0,swamps:0,mountains:0,forests:0,wastes:0}),t=Object(l.a)(a,2),r=t[0],c=t[1],i=Object(n.useState)(""),d=Object(l.a)(i,2),u=d[0],b=d[1],m=[{name:"Plains",image:v.wSymbolImage,onChange:function(e){return c(Object(s.a)(Object(s.a)({},r),{},{plains:e.target.value}))}},{name:"Islands",image:v.uSymbolImage,onChange:function(e){return c(Object(s.a)(Object(s.a)({},r),{},{islands:e.target.value}))}},{name:"Swamps",image:v.bSymbolImage,onChange:function(e){return c(Object(s.a)(Object(s.a)({},r),{},{swamps:e.target.value}))}},{name:"Mountains",image:v.rSymbolImage,onChange:function(e){return c(Object(s.a)(Object(s.a)({},r),{},{mountains:e.target.value}))}},{name:"Forests",image:v.gSymbolImage,onChange:function(e){return c(Object(s.a)(Object(s.a)({},r),{},{forests:e.target.value}))}},{name:"Wastes",image:v.cSymbolImage,onChange:function(e){return c(Object(s.a)(Object(s.a)({},r),{},{wastes:e.target.value}))}}].map((function(e,a){return Object(g.jsx)(y,{imgSrc:e.image,imgAlt:e.name,inputType:"number",min:"0",max:"60",onChange:e.onChange,className:"mana-symbol"},a)}));return Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"player-setup-header",children:"Please input your name and the number of lands you would like in your deck (60 total):"}),Object(g.jsxs)("div",{className:"player-setup",children:[Object(g.jsx)(h,{labelId:"playerName",labelText:"Player Name:",inputType:"text",onChange:function(e){return b(e.target.value)},className:"name-input"}),m]}),Object(g.jsx)(o.b,{to:"/play",children:Object(g.jsx)("button",{type:"button",onClick:function(){e.onChange(r,u)},children:"Start Game!"})})]})}));t(92);var N=function(e){return Object(g.jsxs)("div",{className:"home",children:[Object(g.jsx)("h2",{children:"Welcome to Momir Basic"}),Object(g.jsx)(k,{})]})},R=t(54),A=t.n(R);var L=function(e){return Object(g.jsx)("div",{className:"card-aspect-ratio",children:Object(g.jsx)("div",{id:e.id,className:"card"+(e.isTapped?" tapped":""),children:Object(g.jsx)("img",{src:e.imgSrc,alt:e.name,onClick:function(){e.onCardClick(e.index,e.zone)}})})})};var S=function(e){var a=void 0;return e.contents.length>0&&(a=e.isTopRevealed&&void 0!==e.contents[0].image?e.contents[0].image:v.cardBackImage),Object(g.jsx)("div",{id:e.id,children:Object(g.jsx)(L,{imgSrc:a,alt:e.name,zone:e.name,index:"0",name:e.contents.length>0&&void 0!==e.contents[0].name?e.contents[0].name:"",onCardClick:e.contents.length>0?e.onClick:function(){},onOptionsClick:e.contents.length>0?e.onOptionsClick:function(){}})})};var M=function(e){return Object(g.jsx)("div",{className:"cardZone "+e.name,children:e.cards})};var D=function(e){return Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.width,height:e.height,viewBox:"0 0 200 200",children:Object(g.jsx)("path",{d:"M65 29c-6-10-16-17-28-17C20 12 7 25 7 42c0 33 18 38 58 76 40-38 58-43 58-76 0-17-13-30-30-30-12 0-22 7-28 17z",fill:e.color})})};var F=function(e){return Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.width,height:e.height,fill:e.color,viewBox:"0 0 481.72 481.721",children:Object(g.jsx)("path",{d:"M471.253 335.129L272.396 82.226c-17.417-30.533-45.661-30.533-63.078 0L10.473 335.098c-3.88 5.533-8.072 15.41-8.917 22.117-2.736 21.738-4.908 65.18 21.444 65.18h435.707c26.353 0 24.192-43.416 21.463-65.148-.844-6.714-5.031-16.579-8.917-22.118z"})})};var P=function(e){return Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.width,height:e.height,fill:e.color,viewBox:"0 0 481.728 481.728",children:Object(g.jsx)("path",{d:"M10.467 146.592l198.857 252.903c17.417 30.532 45.661 30.532 63.085 0l198.839-252.867c3.886-5.532 8.072-15.41 8.923-22.118 2.735-21.738 4.908-65.178-21.444-65.178H23.013c-26.353 0-24.192 43.415-21.463 65.147.845 6.709 5.037 16.581 8.917 22.113z"})})};var z=function(e){return Object(g.jsxs)("div",{className:"life-tracker-container",children:[Object(g.jsxs)("div",{className:"life-display",children:[Object(g.jsx)(D,{width:"160",height:"160",color:"#ff0707"}),Object(g.jsx)("div",{className:"life-display-text",children:e.lifeTotal})]}),Object(g.jsxs)("div",{className:"life-button-container",children:[Object(g.jsx)("button",{onClick:e.onLifeIncrementClick,children:Object(g.jsx)(F,{width:"40",height:"40",color:"white"})}),Object(g.jsx)("button",{onClick:e.onLifeDecrementClick,children:Object(g.jsx)(P,{width:"40",height:"40",color:"white"})})]})]})};var B=function(e){return Object(g.jsxs)("div",{className:"mana-tracker-container",children:[Object(g.jsx)("button",{className:"mana-tracker-button",onClick:e.onIncrementClick,children:Object(g.jsx)(F,{width:"25",height:"25",color:"white"})}),Object(g.jsxs)("div",{className:"mana-count-container",children:[Object(g.jsx)("img",{src:e.manaIcon,alt:""}),Object(g.jsx)("div",{className:"mana-count",children:e.manaCount})]}),Object(g.jsx)("button",{className:"mana-tracker-button",onClick:e.onDecrementClick,children:Object(g.jsx)(P,{width:"25",height:"25",color:"white"})})]})};var H=function(e){var a=function(a){var t={};t[a]=e[a]+1,e.onUpdateMana(t)},t=function(a){var t={};t[a]=Math.max(0,e[a]-1),e.onUpdateMana(t)};return Object(g.jsxs)("div",{className:"mana-pool-container",children:[Object(g.jsx)(B,{manaIcon:v.wSymbolImage,manaCount:e.white,onIncrementClick:function(){return a("white")},onDecrementClick:function(){return t("white")}}),Object(g.jsx)(B,{manaIcon:v.uSymbolImage,manaCount:e.blue,onIncrementClick:function(){return a("blue")},onDecrementClick:function(){return t("blue")}}),Object(g.jsx)(B,{manaIcon:v.bSymbolImage,manaCount:e.black,onIncrementClick:function(){return a("black")},onDecrementClick:function(){return t("black")}}),Object(g.jsx)(B,{manaIcon:v.rSymbolImage,manaCount:e.red,onIncrementClick:function(){return a("red")},onDecrementClick:function(){return t("red")}}),Object(g.jsx)(B,{manaIcon:v.gSymbolImage,manaCount:e.green,onIncrementClick:function(){return a("green")},onDecrementClick:function(){return t("green")}}),Object(g.jsx)(B,{manaIcon:v.cSymbolImage,manaCount:e.colorless,onIncrementClick:function(){return a("colorless")},onDecrementClick:function(){return t("colorless")}}),Object(g.jsx)("button",{onClick:function(){e.onUpdateMana({white:0,blue:0,black:0,red:0,green:0,colorless:0})},children:"CLEAR"})]})};t(102);var U=function(e){var a=e.targetId+"_contextMenu",t=e.targetId+"_zoomed",r=function(){e.deactivateContext()};Object(n.useEffect)((function(){var e=document.getElementById(a);e.addEventListener("mouseleave",r);var n=document.getElementById(t);return n.addEventListener("mouseleave",c),function(){e.removeEventListener("mouseleave",r),n.removeEventListener("mouseleave",c)}}));var c=function(){e.onDeactivateZoom()},o=e.validMoveDestinations.map((function(a,t){return Object(g.jsx)("button",{onClick:function(){a.sendFunction(),e.onClose()},children:a.displayName},t)}));return Object(g.jsxs)("div",{id:a,className:"right-click-context",children:[Object(g.jsx)("button",{onClick:function(){e.onActivateZoom(),e.onClose()},children:"Magnify..."}),Object(g.jsx)("div",{children:e.contextHeader}),o,Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)("button",{onClick:e.onClose,children:"Close"})]})};var G=function(e){var a,t;return Object(g.jsx)("div",{style:Object(s.a)({display:e.isActive?"block":"none",position:"fixed",zIndex:10,top:e.mousePosition.y+(null!==(a=e.offsetY)&&void 0!==a?a:0),left:e.mousePosition.x+(null!==(t=e.offsetX)&&void 0!==t?t:0)},e.style),children:e.contents})};var Z=function(e){var a=Object(n.useState)({x:null,y:null}),t=Object(l.a)(a,2),r=t[0],c=t[1],o=Object(n.useState)(!1),i=Object(l.a)(o,2),s=i[0],d=i[1],u=Object(n.useState)(!1),b=Object(l.a)(u,2),m=b[0],j=b[1];Object(n.useEffect)((function(){var a=document.getElementById(e.targetId);return a.addEventListener("contextmenu",p),a.addEventListener("mousedown",O),document.addEventListener("mouseup",f),function(){a.removeEventListener("mousedown",O),document.removeEventListener("mouseup",f),a.removeEventListener("contextmenu",p)}}));var p=function(a){a.preventDefault(),c({x:a.clientX,y:a.clientY}),e.onSelectCard(),j(!0);var t=e.targetId+"_contextMenu";document.getElementById(t).addEventListener("mouseleave",v)},O=function(a){switch(a.button){case 0:return void(m&&j(!1));case 1:return c({x:a.clientX,y:a.clientY}),void(e.zoomEnabled&&(a.preventDefault(),d(!0)));case 2:default:return}},f=function(a){switch(a.button){case 1:e.zoomEnabled&&(a.preventDefault(),d(!1));break;default:return}},v=function(e){s&&d(!1),m&&j(!1)};return Object(g.jsxs)("div",{children:[e.contents,Object(g.jsx)(G,{mousePosition:r,isActive:s,contents:Object(g.jsx)("img",{id:e.targetId+"_zoomed",className:"zoomImage",src:e.zoomImage,alt:""})}),Object(g.jsx)(G,{mousePosition:r,isActive:m,contents:Object(g.jsx)(U,{zoomEnabled:e.zoomEnabled,onActivateZoom:function(){return d(!0)},onDeactivateZoom:function(){return d(!1)},contextHeader:e.contextHeader,validMoveDestinations:e.validMoveDestinations,targetId:e.targetId,deactivateContext:function(){return v()},onClose:function(){return j(!1)}})})]})};var Y=function(e){var a=Object(d.c)(),t=Object(d.d)((function(e){return e.player})),r=Object(n.useState)(0),c=Object(l.a)(r,2),o=c[0],i=c[1],s=Object(n.useState)(""),u=Object(l.a)(s,2),b=u[0],m=u[1],j=Object(n.useState)(0),p=Object(l.a)(j,2),O=p[0],f=p[1];Object(n.useEffect)((function(){return document.addEventListener("keydown",w),function(){document.removeEventListener("keydown",w)}}));var y=[{name:"hand",displayName:"Hand",sendFunction:function(){return I("hand")}},{name:"graveyard",displayName:"Graveyard",sendFunction:function(){return I("graveyard")}},{name:"librarytop",displayName:"Top of Library",sendFunction:function(){return I("librarytop")}},{name:"librarybottom",displayName:"Bottom of Library",sendFunction:function(){return I("librarybottom")}},{name:"creatures",displayName:"Battlefield",sendFunction:function(){return I("creatures")}},{name:"lands",displayName:"Battlefield",sendFunction:function(){return I("land")}}],h=function(e){a(_.playLandFromHand(e))},C=function(e,t){a(_.toggleTapCard(e,t))},T=function(e,a){console.log("Updating selection - index: ".concat(e," zone: ").concat(a)),i(e),m(a)},I=function(e){console.log("Sending card to ".concat(e,"... Source - index: ").concat(o," zone: ").concat(b)),a(_.sendCardToZone(o,b,e))},w=function(e){switch(e.code){case"KeyU":a(_.untapAll());break;default:return}},E=t.hand.filter((function(e){return void 0!==e})).map((function(e,a){var t=e.name+"_"+a,n=[].concat(y);return n.splice(0,1),n.splice(3,1),Object(g.jsx)(Z,{contents:Object(g.jsx)(L,{id:t,index:a,imgSrc:e.image,name:e.name,zone:"hand",onCardClick:h,isTapped:e.isTapped},a),zoomEnabled:!1,targetId:t,validMoveDestinations:n,contextHeader:"Send Card To...",onSelectCard:function(){return T(a,"hand")}},a)})),k=t.creatures.filter((function(e){return void 0!==e})).map((function(e,a){var t=e.name+"_"+a,n=[].concat(y);return n.splice(4,2),Object(g.jsx)(Z,{contents:Object(g.jsx)(L,{id:t,index:a,imgSrc:e.image,name:e.name,zone:"creatures",onCardClick:C,isTapped:e.isTapped},a),zoomEnabled:!0,zoomImage:e.zoomImage,targetId:t,validMoveDestinations:n,contextHeader:"Send Card To...",onSelectCard:function(){return T(a,"creatures")}},a)})),N=t.land.filter((function(e){return void 0!==e})).map((function(e,a){var t=e.name+"_"+a,n=[].concat(y);return n.splice(4,2),Object(g.jsx)(Z,{contents:Object(g.jsx)(L,{id:t,index:a,imgSrc:e.image,name:e.name,zone:"land",onCardClick:C,isTapped:e.isTapped},a),zoomEnabled:!1,targetId:t,validMoveDestinations:n,contextHeader:"Send Card To...",onSelectCard:function(){return T(a,"land")}},a)}));return Object(g.jsxs)("div",{id:"playerInterface",className:"playerInterface",children:[Object(g.jsx)(A.a,{isOpen:t.showErrorMessage,appElement:document.getElementById("playerInterface"),className:"error-modal",overlayClassName:"error-modal-overlay",children:Object(g.jsxs)("div",{className:"modal-container",children:[t.errorMessage,Object(g.jsx)("button",{onClick:function(){return a(_.clearError())},children:"Close"})]})}),Object(g.jsx)("div",{className:"battlefield-block",children:Object(g.jsxs)("div",{className:"battlefield",children:[Object(g.jsx)(M,{cards:k,name:"battlefield-creatures"}),Object(g.jsxs)("div",{className:"land-row-container",children:[Object(g.jsxs)("div",{className:"momir-container",children:[Object(g.jsx)("img",{className:"card",src:v.momirAvatarImage,alt:"Momir Vanguard"}),Object(g.jsxs)("div",{className:"momir-input-container",children:[Object(g.jsxs)("div",{className:"momir-rules",children:[Object(g.jsx)("span",{children:"X, Discard a card:"}),Object(g.jsx)("br",{}),Object(g.jsx)("span",{children:"Create a token that\u2019s a copy of a creature card with converted mana cost X chosen at random. Activate this ability only any time you could cast a sorcery and only once each turn."})]}),Object(g.jsxs)("div",{className:"momir-input",children:[Object(g.jsx)("span",{children:"X:"}),Object(g.jsx)("input",{type:"number",min:"0",onChange:function(e){return f(e.target.value)}}),Object(g.jsx)("button",{onClick:function(){a(_.fetchCreatureToken(O))},children:"Create Token!"})]})]})]}),Object(g.jsx)(M,{cards:N,name:"battlefield-land"})]})]})}),Object(g.jsx)("div",{className:"playerSpace-block",children:Object(g.jsxs)("div",{className:"playerSpace",children:[Object(g.jsxs)("div",{className:"playerStats",children:[Object(g.jsx)(z,{lifeTotal:t.lifeTotal,onLifeIncrementClick:function(){a(_.incrementLife())},onLifeDecrementClick:function(){a(_.decrementLife())}}),Object(g.jsx)(H,{white:t.manaPool.white,blue:t.manaPool.blue,black:t.manaPool.black,red:t.manaPool.red,green:t.manaPool.green,colorless:t.manaPool.colorless,onUpdateMana:function(e){a(_.updateMana(e))}})]}),Object(g.jsx)(M,{name:"hand",cards:E}),Object(g.jsx)(Z,{contents:Object(g.jsx)(S,{id:"library_top",name:"library",contents:t.library,isTopRevealed:!1,onClick:function(){a(_.drawCardsFromLibrary(1))}}),zoomEnabled:!1,targetId:"library_top",validMoveDestinations:[].concat(Object(x.a)(y.slice(0,1)),Object(x.a)(y.slice(3,4)),Object(x.a)(y.slice(5))),contextHeader:"Send Card To...",onSelectCard:function(){return T(0,"library")}}),Object(g.jsx)(Z,{contents:Object(g.jsx)(S,{id:"graveyard_top",name:"graveyard",contents:t.graveyard,isTopRevealed:!0}),zoomEnabled:!1,targetId:"graveyard_top",validMoveDestinations:[].concat(Object(x.a)(y.slice(0,0)),Object(x.a)(y.slice(2,4)),Object(x.a)(y.slice(5))),contextHeader:"Send Card To...",onSelectCard:function(){return T(0,"graveyard")}})]})})]})};var W=function(e){return Object(g.jsx)("div",{children:Object(g.jsx)(Y,{})})};var X=function(){return Object(g.jsx)("div",{id:"App",className:"App",children:Object(g.jsx)(o.a,{children:Object(g.jsxs)(i.c,{children:[Object(g.jsx)(i.a,{path:"/play",children:Object(g.jsx)(W,{})}),Object(g.jsx)(i.a,{path:"/",children:Object(g.jsx)(N,{})})]})})})},K=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,104)).then((function(a){var t=a.getCLS,n=a.getFID,r=a.getFCP,c=a.getLCP,o=a.getTTFB;t(e),n(e),r(e),c(e),o(e)}))},q=t(17),J=t(55),V=t(21),Q=b.a.mark(ae),$=b.a.mark(te),ee=new v;function ae(e){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(V.a)(ee.getRandomCreature,e.payload);case 3:return a=t.sent,t.next=6,Object(V.b)({type:"ADD_CREATURE_TO_BATTLEFIELD",payload:a});case 6:t.next=20;break;case 8:if(t.prev=8,t.t0=t.catch(0),404!==t.t0.response.status||"not_found"!==t.t0.response.data.code){t.next=15;break}return t.next=13,Object(V.b)({type:"NO_CREATURE_WITH_THAT_COST_ERROR",payload:e.payload});case 13:t.next=19;break;case 15:return t.next=17,Object(V.b)({type:"SCRYFALL_API_ERROR",payload:t.t0.message});case 17:return t.next=19,Object(V.b)({type:"SHOW_ERROR_MODAL"});case 19:console.error("ERROR FETCHING CREATURE TOKEN!!!");case 20:case"end":return t.stop()}}),Q,null,[[0,8]])}function te(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.c)("FETCH_CREATURE_TOKEN",ae);case 2:case"end":return e.stop()}}),$)}var ne=te,re=Object(J.a)(),ce=Object(q.e)(Object(q.c)({player:_.reducer}),Object(q.a)(re));re.run(ne);var oe=ce;c.a.render(Object(g.jsx)(o.a,{basename:"/momir_basic",children:Object(g.jsx)(d.a,{store:oe,children:Object(g.jsx)(X,{})})}),document.getElementById("root")),K()},60:function(e,a,t){},61:function(e,a,t){},87:function(e,a,t){},92:function(e,a,t){}},[[103,1,2]]]);
//# sourceMappingURL=main.55bb720b.chunk.js.map